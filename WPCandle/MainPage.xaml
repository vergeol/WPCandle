<phone:PhoneApplicationPage x:Name="phoneApplicationPage" 
    x:Class="WPCandle.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
    xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d" d:DesignWidth="480" d:DesignHeight="768"
    FontFamily="{StaticResource PhoneFontFamilyNormal}"
    FontSize="{StaticResource PhoneFontSizeNormal}"
    Foreground="{StaticResource PhoneForegroundBrush}"
    SupportedOrientations="PortraitOrLandscape" Orientation="Portrait"
    shell:SystemTray.IsVisible="True">
	<phone:PhoneApplicationPage.Resources>
		<Storyboard x:Name="SlowFlickerStoryboard" SpeedRatio="0.20" AutoReverse="False">
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Projection).(PlaneProjection.RotationX)" Storyboard.TargetName="Flame">
				<EasingDoubleKeyFrame KeyTime="0" Value="0"/>
				<EasingDoubleKeyFrame KeyTime="0:0:0.9" Value="18">
					<EasingDoubleKeyFrame.EasingFunction>
						<ElasticEase EasingMode="EaseOut" Springiness="8"/>
					</EasingDoubleKeyFrame.EasingFunction>
				</EasingDoubleKeyFrame>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="Halo">
				<EasingDoubleKeyFrame KeyTime="0" Value="1"/>
				<EasingDoubleKeyFrame KeyTime="0:0:0.4" Value="0.695"/>
				<EasingDoubleKeyFrame KeyTime="0:0:0.7" Value="0.995"/>
			</DoubleAnimationUsingKeyFrames>
		</Storyboard>
		<Storyboard x:Name="BurningStoryboard" >
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.Height)" Storyboard.TargetName="Candle">
				<EasingDoubleKeyFrame KeyTime="0" Value="364"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2" Value="70"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.3" Value="70"/>
			</DoubleAnimationUsingKeyFrames>
			<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(FrameworkElement.Margin)" Storyboard.TargetName="BodyGlow">
				<DiscreteObjectKeyFrame KeyTime="0">
					<DiscreteObjectKeyFrame.Value>
						<Thickness>0,0,0,-22</Thickness>
					</DiscreteObjectKeyFrame.Value>
				</DiscreteObjectKeyFrame>
			</ObjectAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="Halo">
				<EasingDoubleKeyFrame KeyTime="0:0:2" Value="303"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.3" Value="303"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="Halo">
				<EasingDoubleKeyFrame KeyTime="0:0:2" Value="-3"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.3" Value="-3"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimation Duration="0:0:2" To="339" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="HaloGeneral" d:IsOptimized="True"/>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleY)" Storyboard.TargetName="Flame">
				<EasingDoubleKeyFrame KeyTime="0:0:2" Value="0.6">
					<EasingDoubleKeyFrame.EasingFunction>
						<CubicEase EasingMode="EaseIn"/>
					</EasingDoubleKeyFrame.EasingFunction>
				</EasingDoubleKeyFrame>
				<EasingDoubleKeyFrame KeyTime="0:0:2.2" Value="0.2"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.3" Value="0.2"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="BodyGlow">
				<EasingDoubleKeyFrame KeyTime="0:0:2" Value="1"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.2" Value="0"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.3" Value="0"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="HaloGeneral">
				<EasingDoubleKeyFrame KeyTime="0:0:2" Value="0.3"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.2" Value="0.045"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.3" Value="0.045"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="Halo">
				<EasingDoubleKeyFrame KeyTime="0:0:2" Value="0.7"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.2" Value="0"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.3" Value="0"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="Flame">
				<EasingDoubleKeyFrame KeyTime="0:0:2" Value="1"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.2" Value="0"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.3" Value="0"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="BottomShadow">
				<EasingDoubleKeyFrame KeyTime="0" Value="1"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2" Value="0.4"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.2" Value="0"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleY)" Storyboard.TargetName="BottomShadow">
				<EasingDoubleKeyFrame KeyTime="0" Value="2"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2" Value="5"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleX)" Storyboard.TargetName="BottomShadow">
				<EasingDoubleKeyFrame KeyTime="0" Value="2"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2" Value="5"/>
				<EasingDoubleKeyFrame KeyTime="0:0:2.2" Value="2"/>
			</DoubleAnimationUsingKeyFrames>
			<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(PhoneApplicationPage.Orientation)" Storyboard.TargetName="phoneApplicationPage">
				<DiscreteObjectKeyFrame KeyTime="0:0:2.3">
					<DiscreteObjectKeyFrame.Value>
						<phone:PageOrientation>Portrait</phone:PageOrientation>
					</DiscreteObjectKeyFrame.Value>
				</DiscreteObjectKeyFrame>
			</ObjectAnimationUsingKeyFrames>
		</Storyboard>
	</phone:PhoneApplicationPage.Resources>

    <!--LayoutRoot is the root grid where all page content is placed-->
    <Grid x:Name="LayoutRoot" Background="Transparent">
    	<VisualStateManager.VisualStateGroups>
    		<VisualStateGroup x:Name="RotationVisualStateGroup">
    			<VisualStateGroup.Transitions>
    				<VisualTransition GeneratedDuration="0:0:0.8">
    					<VisualTransition.GeneratedEasingFunction>
    						<CubicEase EasingMode="EaseOut"/>
    					</VisualTransition.GeneratedEasingFunction>
    				</VisualTransition>
    			</VisualStateGroup.Transitions>
    			<VisualState x:Name="RotateLeftVisualState">
    				<Storyboard>
    					<DoubleAnimation Duration="0" To="45" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.Rotation)" Storyboard.TargetName="Flame" d:IsOptimized="True"/>
    					<DoubleAnimation Duration="0" To="-15" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="Flame" d:IsOptimized="True"/>
    					<DoubleAnimation Duration="0" To="48" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="Halo" d:IsOptimized="True"/>
    					<DoubleAnimation Duration="0" To="-12" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="Halo" d:IsOptimized="True"/>
    					<DoubleAnimation Duration="0" To="10" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="HaloGeneral" d:IsOptimized="True"/>
    					<DoubleAnimation Duration="0" To="39" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="HaloGeneral" d:IsOptimized="True"/>
    				</Storyboard>
    			</VisualState>
    			<VisualState x:Name="RotateRightVisualState"/>
    		</VisualStateGroup>
    	</VisualStateManager.VisualStateGroups>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!--TitlePanel contains the name of the application and page title-->
        <StackPanel x:Name="TitlePanel" Grid.Row="0" Margin="12,17,0,28"/>
        <Grid x:Name="Scene" Grid.RowSpan="2">
        	<Rectangle x:Name="Floor" Height="221" Stroke="Black" VerticalAlignment="Bottom" RenderTransformOrigin="0.5,1" StrokeThickness="0" Margin="-49,0,-50,0">
        		<Rectangle.Fill>
        			<LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
        				<GradientStop Offset="0.013"/>
        				<GradientStop Color="#FF404040" Offset="1"/>
        			</LinearGradientBrush>
        		</Rectangle.Fill>
        		<Rectangle.Projection>
        			<PlaneProjection CenterOfRotationY="1" RotationX="-70"/>
        		</Rectangle.Projection>
        	</Rectangle>
        	<Rectangle x:Name="Bg" Fill="#FF171717" Margin="0,0,0,80" Stroke="Black" RenderTransformOrigin="0.5,1" StrokeThickness="0">
        		<Rectangle.Projection>
        			<PlaneProjection CenterOfRotationY="1"/>
        		</Rectangle.Projection>
        	</Rectangle>
        </Grid>
        <Viewbox Grid.RowSpan="2">
        	<Grid x:Name="ContentPanel" Margin="0" Width="480" Height="768">
        		<Ellipse x:Name="HaloGeneral" HorizontalAlignment="Center" Height="813" StrokeThickness="0" VerticalAlignment="Bottom" Width="813" Margin="-167,-156,-166,111" Opacity="0.4" RenderTransformOrigin="0.5,0.5" Fill="{StaticResource HaloGradientBrush}">
        			<Ellipse.RenderTransform>
        				<CompositeTransform/>
        			</Ellipse.RenderTransform>
        		</Ellipse>
        		<Ellipse x:Name="Halo" HorizontalAlignment="Center" Height="480" StrokeThickness="0" VerticalAlignment="Bottom" Width="480" Margin="3,0,-3,260" RenderTransformOrigin="0.5,0.5" Fill="{StaticResource HaloGradientBrush}">
        			<Ellipse.RenderTransform>
        				<CompositeTransform/>
        			</Ellipse.RenderTransform>
        		</Ellipse>
        		<Grid x:Name="Candle" Margin="0,0,0,45" VerticalAlignment="Bottom" Height="364" Width="200">
        			<Ellipse x:Name="BottomShadow" Height="70" StrokeThickness="0" VerticalAlignment="Bottom" Margin="0,0,0,-35" RenderTransformOrigin="0.5,0.5" Opacity="0.995">
        				<Ellipse.Projection>
        					<PlaneProjection RotationX="63"/>
        				</Ellipse.Projection>
        				<Ellipse.Fill>
        					<RadialGradientBrush>
        						<GradientStop Color="#FF1D1D1D" Offset="0.491"/>
        						<GradientStop Offset="1"/>
        					</RadialGradientBrush>
        				</Ellipse.Fill>
        				<Ellipse.RenderTransform>
        					<CompositeTransform ScaleX="2" ScaleY="2"/>
        				</Ellipse.RenderTransform>
        			</Ellipse>
        			<Ellipse x:Name="Bottom" Height="70" StrokeThickness="0" VerticalAlignment="Bottom" Margin="0,0,0,-35">
        				<Ellipse.Projection>
        					<PlaneProjection RotationX="50"/>
        				</Ellipse.Projection>
        				<Ellipse.Fill>
        					<LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
        						<LinearGradientBrush.RelativeTransform>
        							<CompositeTransform CenterY="0.5" CenterX="0.5" Rotation="90"/>
        						</LinearGradientBrush.RelativeTransform>
        						<GradientStop Color="{StaticResource CandleHighlightColor}" Offset="0.47"/>
        						<GradientStop Color="{StaticResource CandleSideColor}" Offset="0.996"/>
        						<GradientStop Color="{StaticResource CandleSideColor}"/>
        					</LinearGradientBrush>
        				</Ellipse.Fill>
        			</Ellipse>
        			<Rectangle x:Name="Body" StrokeThickness="0">
        				<Rectangle.Fill>
        					<LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
        						<LinearGradientBrush.RelativeTransform>
        							<CompositeTransform CenterY="0.5" CenterX="0.5" Rotation="90"/>
        						</LinearGradientBrush.RelativeTransform>
        						<GradientStop Color="{StaticResource CandleHighlightColor}" Offset="0.466"/>
        						<GradientStop Color="{StaticResource CandleSideColor}" Offset="0.996"/>
        						<GradientStop Color="{StaticResource CandleSideColor}"/>
        					</LinearGradientBrush>
        				</Rectangle.Fill>
        			</Rectangle>
        			<Rectangle x:Name="BodyGlow" StrokeThickness="0" Margin="0,0,0,-20" Fill="{StaticResource CandleHaloBrush}"/>
        			<Ellipse x:Name="Top" HorizontalAlignment="Center" Height="70" StrokeThickness="0" VerticalAlignment="Top" Width="200" Margin="0,-35,0,0">
        				<Ellipse.Projection>
        					<PlaneProjection RotationX="50"/>
        				</Ellipse.Projection>
        				<Ellipse.Fill>
        					<RadialGradientBrush>
        						<GradientStop Color="#FFFDF4C5" Offset="1"/>
        						<GradientStop Color="White"/>
        					</RadialGradientBrush>
        				</Ellipse.Fill>
        			</Ellipse>
        			<Grid x:Name="Meche" Margin="0,-54,0,0" VerticalAlignment="Top" HorizontalAlignment="Center">
        				<Path Data="M237.375,394.25 C237.375,394.25 225.5,365.625 229.5,341.625 C229.625,341.5 233.375,339.25 233.375,339.25 C233.375,339.25 227.75,358.25 241.375,394.25 C239.625,394.375 237.375,394.25 237.375,394.25 z" HorizontalAlignment="Left" Height="55.056" Margin="0,0,-0.698,-0.056" Stretch="Fill" StrokeThickness="0" UseLayoutRounding="False" VerticalAlignment="Top" Width="12.698" RenderTransformOrigin="0.5,0.5">
        					<Path.RenderTransform>
        						<CompositeTransform ScaleX="-1"/>
        					</Path.RenderTransform>
        					<Path.Fill>
        						<LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
        							<GradientStop Color="#FF2B2B2B" Offset="0"/>
        							<GradientStop Color="#FF1F1F1F" Offset="1"/>
        						</LinearGradientBrush>
        					</Path.Fill>
        				</Path>
        				<Ellipse HorizontalAlignment="Left" Height="2.157" Margin="7.667,0.14,-0.244,0" StrokeThickness="0" VerticalAlignment="Top" Width="4.577" RenderTransformOrigin="0.5,0.5" UseLayoutRounding="False" d:LayoutRounding="Auto">
        					<Ellipse.RenderTransform>
        						<CompositeTransform Rotation="32.298"/>
        					</Ellipse.RenderTransform>
        					<Ellipse.Fill>
        						<RadialGradientBrush>
        							<GradientStop Color="#FFFFFED5" Offset="0"/>
        							<GradientStop Color="#FFF6B27D" Offset="1"/>
        						</RadialGradientBrush>
        					</Ellipse.Fill>
        				</Ellipse>
        			</Grid>
        			<Grid x:Name="Flame" HorizontalAlignment="Center" Height="180" VerticalAlignment="Top" Width="130" RenderTransformOrigin="0.5,0.95" Margin="0,-200,-4,0">
        				<Grid.RenderTransform>
        					<CompositeTransform/>
        				</Grid.RenderTransform>
        				<Grid.Projection>
        					<PlaneProjection CenterOfRotationX="1" CenterOfRotationY="1"/>
        				</Grid.Projection>
        				<Ellipse HorizontalAlignment="Left" Height="150.105" Margin="43,35,0,-5" StrokeThickness="0" VerticalAlignment="Top" Width="44.279" Fill="White">
        					<Ellipse.OpacityMask>
        						<LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
        							<GradientStop Offset="0"/>
        							<GradientStop Color="Transparent" Offset="1"/>
        							<GradientStop Color="#4DFFFFFF" Offset="0.226"/>
        							<GradientStop Color="#EBFFFFFF" Offset="0.548"/>
        						</LinearGradientBrush>
        					</Ellipse.OpacityMask>
        				</Ellipse>
        				<Ellipse HorizontalAlignment="Left" Height="150.105" Margin="43,35,0,-5" StrokeThickness="0" VerticalAlignment="Top" Width="44.279">
        					<Ellipse.OpacityMask>
        						<LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
        							<GradientStop Color="#C1000000" Offset="0.841"/>
        							<GradientStop Color="Transparent" Offset="1"/>
        						</LinearGradientBrush>
        					</Ellipse.OpacityMask>
        					<Ellipse.Fill>
        						<RadialGradientBrush RadiusY="0.713" RadiusX="0.839" Center="0.496,0.283" GradientOrigin="0.496,0.283">
        							<GradientStop Color="#FF4B6CC1" Offset="0.884"/>
        							<GradientStop Color="#00FDFBEF" Offset="0.543"/>
        							<GradientStop Color="#004C3955" Offset="0.991"/>
        							<GradientStop Color="#FF5F6C9E" Offset="0.927"/>
        						</RadialGradientBrush>
        					</Ellipse.Fill>
        				</Ellipse>
        				<Ellipse HorizontalAlignment="Left" Height="122" Margin="43,48,0,0" StrokeThickness="0" VerticalAlignment="Top" Width="44.279" Fill="White" Opacity="0.305">
        					<Ellipse.OpacityMask>
        						<LinearGradientBrush EndPoint="0.5,1" MappingMode="RelativeToBoundingBox" StartPoint="0.5,0">
        							<GradientStop Offset="0"/>
        							<GradientStop Color="Transparent" Offset="1"/>
        							<GradientStop Color="#4DFFFFFF" Offset="0.335"/>
        							<GradientStop Color="White" Offset="0.548"/>
        						</LinearGradientBrush>
        					</Ellipse.OpacityMask>
        				</Ellipse>
        			</Grid>
        		</Grid>
        		<Image Margin="803,137,-535,349" Source="/Assets/Inspiration/candle_flame_by_sketchesatmidnight-d3433s3.jpg" Stretch="Fill" Visibility="Collapsed"/>
        		<Image Margin="714,452,-535,128" Source="/Assets/Inspiration/candle_superpose2.png" Stretch="Fill" Opacity="0.87" Visibility="Collapsed"/></Grid>
        </Viewbox>

        <!--ContentPanel - place additional content here-->
    </Grid>
 
</phone:PhoneApplicationPage>